/* Import KaTeX CSS for math rendering */
@import "https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css";

/* Riduce la larghezza della sidebar */
:root {
  /* Larghezza sidebar ridotta da 18rem (default) a 14rem */
  --sl-sidebar-width: 14rem;
  /* Larghezza sidebar destra (TOC). Default ~18rem: la riduciamo per recuperare spazio. */
  --sl-toc-width: 12.5rem;
}

/* Su schermi medi, riduce ulteriormente */
@media (min-width: 50rem) and (max-width: 72rem) {
  :root {
    --sl-sidebar-width: 12rem;
    --sl-toc-width: 13rem;
  }
}

/* Aumenta la larghezza massima del contenuto principale su schermi molto grandi */
@media (min-width: 90rem) {
  :root {
    /* Crescita progressiva su desktop grandi, con limiti ragionevoli */
    --sl-content-width: clamp(54rem, 60vw, 74rem);
  }
  /* Su schermi grandi, allinea il contenuto a sinistra del main-pane */
  [data-has-sidebar][data-has-toc] .main-pane {
    --sl-content-margin-inline: 0 auto;
  }
}
@media (min-width: 120rem) {
  :root {
    /* Su monitor molto ampi, usa più spazio ma mantieni un massimo */
    --sl-content-width: clamp(62rem, 58vw, 82rem);
  }
}

/* Riduce il padding interno della sidebar per ottimizzare lo spazio */
.sidebar-content {
  padding: 1rem 0.75rem;
}

/* Riduce font-size dei link della sidebar se serve più compattezza */
.sidebar nav a {
  font-size: 0.9rem;
  padding: 0.25rem 0.75rem;
}

/* Riduce indentazione dei sottomenu */
.sidebar nav ul ul {
  padding-inline-start: 1rem;
}

/* Sidebar destra (TOC): compattiamo padding e tipografia */
.right-sidebar-panel {
  padding: 1rem 0.75rem;
}

.right-sidebar-panel a {
  font-size: 0.92rem;
  line-height: 1.35;
  padding-block: 0.2rem;
}

/* Spazio minore tra i livelli della TOC */
.right-sidebar-panel ul ul {
  margin-top: 0.25rem;
  padding-inline-start: 0.9rem;
}

/* Forza la larghezza del pannello TOC a destra solo su desktop */
@media (min-width: 72rem) {
  .right-sidebar-panel .sl-container {
    width: var(--sl-toc-width) !important;
    max-width: var(--sl-toc-width) !important;
  }
  /* Riduci anche il padding orizzontale del pannello TOC */
  .right-sidebar-panel {
    padding-inline: 0.75rem;
  }
  /* Stringi l'intera colonna destra e lascia che il main occupi lo spazio residuo */
  .right-sidebar-container {
    /* larghezza totale colonna destra (contenitore fisso + padding) */
    --_toc-col-width: calc(var(--sl-toc-width) + 2 * var(--sl-sidebar-pad-x));
    width: var(--_toc-col-width) !important;
    flex: 0 0 var(--_toc-col-width) !important;
  }
  [data-has-sidebar][data-has-toc] .main-pane {
    /* Evita lo spostamento a destra: centra i pannelli di contenuto */
    --sl-content-margin-inline: auto;
    width: auto !important;
    flex: 1 1 auto !important;
  }
}

/* Word wrap per blocchi di codice text - evita lo scroll orizzontale */
.expressive-code .ec-line,
pre.language-text code,
code[class*="language-text"] {
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
}

/* Mantieni il comportamento normale per altri tipi di codice se necessario */
pre:not(.language-text) code {
  white-space: pre;
}
